e=document.getElementById("error");IC="blue";var s=document.getElementsByTagName("select");for(var i=0;i<s.length;i++){s[i].style.background="#222";s[i].style.color="#444";s[i].style.size*=0.9;s[i].onclick=function(){this.style.color="#58FE50";o=this.options;for(var a=o.length-1;a>=0;a--){if(!o[a].disabled){o[a].style.color=o[a].selected?IC:"green"}else{o[a].color="#444"}}};s[i].onfocus=function(){this.style.background="#d0ecfd";this.style.color="green"}}function nc(a){a.style.color=IC;a.style.background="#222"}function err(c,a){var b=document.getElementById("e-"+c);if(!b){e.innerHTML+='<div id="e-'+c+'" onclick="go(\''+c+'\');" class="error-tip">'+a+"</div>"}}function rmv_err(b){if(b){var a=document.getElementById("e-"+b);if(a){e.removeChild(a)}}else{e.innerHTML=""}}function go(a){rmv_err();document.getElementById(a).focus()}function V(a){return document.getElementById(a).value}function isNull(a){if(a==""|a==null){return true}var b=/"^[ ]+$"/;return b.test(a)}function select(c,a){var d=c.options;for(var b=d.length-1;b>=0;b--){if(d[b].value==a){d[b].selected=true;d[b].style.color=IC;c.style.color=IC;return true}}}function checkid(h){var d;var f=arguments[1]===undefined?true:arguments[1];var a;var c=document.getElementById("grade");switch(h.length){case 7:d=/^[1][0-4]\d{5}$/;if(!d.test(h)){return false}if(f){switch(h.substr(0,2)){case"11":select(c,"大四");break;case"12":select(c,"大三");break;case"13":select(c,"大二");break;case"14":select(c,"大一");break;case"10":select(c,"研一");break}}rmv_err("id");return true;break;case 10:d=/^\d{2}[1-2][0|9][0|1|8|9]\d{5}$/;if(!d.test(h)){return false}if(f){switch(h.substr(2,4)){case"2014":select(c,"研一");break;case"2013":select(c,"研二");break;case"2012":select(c,"研三");break}}rmv_err("id");return true;break;case 15:d=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/;break;case 18:d=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;break;default:err("id","Please fill in the student ID for verification");return false}if(d.test(h)){rmv_err("id");return true}else{return false}}function checkname(b){var a=/^((([\u4E00-\uFA29]|[\uE7C7-\uE7F3]){2,8})|[A-Za-z]{3,50})$/;if(a.test(b)){rmv_err("name");return true}else{err("name","Please fill in your name. It is better to use your Chinese Name ！");return false}}function checkgender(){var b=document.getElementsByName("gender");for(var a=b.length-1;a>=0;a--){if(b[a].checked){rmv_err("gender");return true}}err("gender","check your gender!");return false}function checkcollege(a){if(isNull(a)){err("college","Please select your college, if your college is not in this form please select “Other College”, and note in comment！");return false}else{rmv_err("college");return true}}function checkgrade(a){if(isNull(a)){err("grade",'Please select your grade! if you are not a student, please select " “Others",and Note in Comment！');return false}else{rmv_err("grade");return true}}function checkphone(b){var a=/^1[3458]{1}\d{9}$/;if(a.test(b)){rmv_err("phone");return true}else{err("phone","Please write your phone number(11-digit) in China !(we will send important notice by SMS)");return false}}function checkemail(b){var a=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(a.test(b)){rmv_err("email");return true}else{err("email","Please write your email address correctly! ( we will tell you the progress and details via email. )");return false}}function checkdept1(g){var h=arguments[1]===undefined?true:arguments[1];if(isNull(g)){err("dept1","Please select the department  that you most wish to jion. (PS: Technology Department will have the written test)");return false}else{if(h){var b=document.getElementById("dept2");var f=b.options[0];f.disabled=false;f.text="No";f.value="无";for(var a=b.options.length-1;a>=1;a--){var c=b.options[a];if(c.value==g){c.disabled=true;b.style.color=IC}else{c.disabled=false;c.selected=true}}}}rmv_err("dept1");return true}function checkform(){var j=true;var h=V("id");j&=checkid(h,false);var c=V("name");j&=checkname(c);j&=checkgender();var f=V("college");j&=checkcollege(f);var d=V("grade");j&=checkgrade(d);var a=V("phone");j&=checkphone(a);var b=V("email");j&=checkemail(b);var g=V("dept1");j&=checkdept1(g,false);return Boolean(j)};